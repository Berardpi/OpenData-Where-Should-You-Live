
<section>
  <header>
    <h1>Carte contextualisée</h1>
  </header>

  <criterias data="data.weight" dimensions="data.dimensions" formtype="checkbox" load="loadData()" ref-link="#/parallel_coordinates" ref-txt="Comparaison multi critères" ref-icon="../images/parallel.png"></criterias>


  <div class="panel panel-default">
    <div class="panel-heading">
      <h3 class="panel-title">Carte</h3>
    </div>
    <div class="panel-body">
      <leaflet layers="layers" legend="legend" defaults="defaults" center="center" height="480px" width="100%" markers="markers" ></leaflet>
      <div class="overNeightborhood">
        {{ overNeightborhood.properties.name || 'Pas de quartier'}}
      </div>
    </div>
  </div>

  <div class="panel panel-default" ng-show="neighborhoodData">
    <div class="panel-heading col-md-12">
      <div class='col-md-11'>
        <h2 class="panel-title">{{selectedNeightborhood.feature.properties.name}}</h2>
      </div>
      <div class='col-md-1'>
        <a ng-href="#/bar?nghb={{selectedNeightborhood.feature.properties.name}}" class='fa fa-bar-chart btn btn-default' data-toggle="tooltip" data-placement="top" title="Show bar graph for {{selectedNeightborhood.feature.properties.name}}"></a>
      </div>
    </div>
    <div class="panel-body details">
    <br/>
    <ul>
      <div class='col-md-6 details-map' ng-repeat="(key, value) in data.dimensions" ng-if="key != 'name'">
        <li><!-- fa fa-pie-chart fa-2x -->
          {{getTrad(key)}} : {{neighborhoodData.properties[key]}}{{getUnite(key)}}
          <a ng-href="#/bubble?criteria={{key}}" class="bubble btn btn-default " data-toggle="tooltip" data-placement="left" title="Show bubble graph for {{getTrad(key)}}"> 
            <img src="../../images/bubble.png" alt="" style="padding: 5px;"/>
          </a>
        </li>
      </div>
    </ul>
    </div>
  </div>
</section>
